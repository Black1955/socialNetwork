import{j as s,a as I,u as g,e as H,r as b,h as P,A as T,d as C,f as O,B as w,g as M,i as S,k as F,l as W,m as Y,T as q,s as z,n as J,o as K,p as U,q as Q,c as V}from"./index-5d0c194e.js";import{G as X,S as j,a as Z,P as ss}from"./ProfileList-608cbfd5.js";import{u as B,M as D,A as v}from"./useFoto-acad2b1c.js";import{I as es}from"./Input-2c9cb845.js";const as="#2f2f2f",ts="#fff",ns="#ffb94a",os="#818181",is="#bfbfbf",cs="#d7d7d7",ls="_profile_1fc93_12",rs="_wrapper_1fc93_21",ds="_background_1fc93_24",hs="_profilePhoto_1fc93_34",fs="_information_1fc93_41",ps="_nickName_1fc93_45",us="_name_1fc93_46",_s="_description_1fc93_52",ms="_followInformation_1fc93_56",xs="_qwe_1fc93_62",js="_follow_1fc93_56",vs="_followSection_1fc93_69",bs="_numbers_1fc93_73",gs="_editBg_1fc93_79",ws="_infoFollow_1fc93_101",n={JET:as,"YELLOW-ORANGE":"#ff9900","BABY-POWDER":"#f3f4f0",WHITE:ts,PALE_ORANGE:ns,DARK_GRAY:os,GRAY:is,LIGHT_GRAY:cs,profile:ls,wrapper:rs,background:ds,profilePhoto:hs,information:fs,nickName:ps,name:us,description:_s,followInformation:ms,qwe:xs,follow:js,followSection:vs,numbers:bs,editBg:gs,infoFollow:ws},ks="#2f2f2f",Ns="#fff",As="#ffb94a",ys="#818181",Es="#bfbfbf",Rs="#d7d7d7",Gs="_amountOfPets_1lzsz_12",Ps="_petList_1lzsz_16",Ss="_notHave_1lzsz_21",$={JET:ks,"YELLOW-ORANGE":"#ff9900","BABY-POWDER":"#f3f4f0",WHITE:Ns,PALE_ORANGE:As,DARK_GRAY:ys,GRAY:Es,LIGHT_GRAY:Rs,amountOfPets:Gs,petList:Ps,notHave:Ss},$s="_pet_ek6wo_1",Ls="_img_ek6wo_6",Cs="_name_ek6wo_12",L={pet:$s,img:Ls,name:Cs},Bs=({name:e,img:o})=>s.jsxs("div",{className:L.pet,children:[s.jsx("img",{src:o,alt:e,className:L.img}),s.jsx("div",{className:L.name,children:e})]}),Is=({pets:e=[]})=>s.jsx("div",{children:e.length?s.jsxs("div",{children:[s.jsxs("div",{children:["My Pets ",s.jsxs("span",{className:$.amountOfPets,children:["(",e.length,")"]})]}),s.jsx("div",{className:$.petList,children:e.map(o=>s.jsx(Bs,{img:o.img,name:o.name},o.img))})]}):s.jsx("h2",{className:$.notHave,children:"you don`t have pets"})}),Os="/assets/user-background-8ceb8321.png",Ys="#2f2f2f",Ts="#fff",Ds="#ffb94a",Hs="#818181",Ms="#bfbfbf",Fs="#d7d7d7",Ws="_wrapper_4uhhh_12",qs="_modal_4uhhh_18",zs="_header_4uhhh_25",Js="_icon_4uhhh_33",Ks="_block_4uhhh_51",Us="_avatar_picture_4uhhh_59",Qs="_back_picture_4uhhh_64",Vs="_desc_textarea_4uhhh_78",r={JET:Ys,"YELLOW-ORANGE":"#ff9900","BABY-POWDER":"#f3f4f0",WHITE:Ts,PALE_ORANGE:Ds,DARK_GRAY:Hs,GRAY:Ms,LIGHT_GRAY:Fs,wrapper:Ws,modal:qs,header:zs,icon:Js,block:Ks,avatar_picture:Us,back_picture:Qs,desc_textarea:Vs},Xs=()=>{const e=I(),{isEditModal:o,editModal:d}=g(a=>a.modal),{avatar_url:t,back_url:h,description:u,name:f}=g(a=>a.auth.user),[l]=H(),{name:i,description:p}=d,[x,k]=b.useState(),[_,R]=b.useState(),[N]=B(x),[A]=B(_),[m,y]=b.useState(!1),G=async a=>{const c=new FormData;x&&c.append("avatar",x),_&&c.append("background",_),c.append("name",i),c.append("description",p),a.preventDefault(),await l({body:c}).then(()=>e(P()))};return s.jsx(D,{visible:o,children:s.jsx("div",{className:r.wrapper,onClick:()=>e(P()),children:s.jsxs("form",{className:r.modal,onSubmit:G,onClick:a=>a.stopPropagation(),children:[s.jsxs("div",{style:{position:"relative"},children:[s.jsx("div",{className:r.header,children:"Edit profile"}),s.jsx("div",{className:r.icon,onClick:()=>e(P()),children:s.jsx(X,{})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:r.block,children:[s.jsx("div",{children:"Avatar picture"}),s.jsx(v,{id:"avatar",type:"file",onChange:a=>k(a.target.files[0]),children:s.jsx("div",{children:"Add"})})]}),s.jsx("div",{className:r.avatar_picture,children:s.jsx(T,{height:168,width:168,url:N?N.toString():C(t),userId:10})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:r.block,children:[s.jsx("div",{children:"background picture"}),s.jsx(v,{id:"back",type:"file",onChange:a=>R(a.target.files[0]),children:s.jsx("div",{children:"Add"})})]}),s.jsx("div",{style:{display:"flex",justifyContent:"center"},children:s.jsx("div",{className:r.back_picture,children:s.jsx("img",{src:A?A.toString():C(h),alt:"qwe"})})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:r.block,children:[s.jsx("div",{children:"description"}),s.jsx(v,{id:"description",type:"text",onClickShow:()=>y(a=>!a),children:s.jsx("div",{children:m?"Cancel":"Add"})})]}),s.jsx("div",{style:{display:"flex",justifyContent:"center"},children:m?s.jsx("textarea",{value:p,onChange:a=>e(O({description:a.target.value})),rows:3,className:r.desc_textarea,placeholder:`${u||"Describe yourself..."} `}):p?s.jsx("div",{children:p}):s.jsx("div",{children:"Describe yourself…"})})]}),s.jsx(w,{variant:"Orange",type:"submit",children:"save"}),s.jsxs("div",{children:[s.jsxs("div",{className:r.block,children:[s.jsx("div",{children:"name"}),s.jsx(v,{id:"name",type:"text",onClickShow:()=>y(a=>!a),children:s.jsx("div",{children:m?"Cancel":"Add"})})]}),s.jsx("div",{style:{display:"flex",justifyContent:"center"},children:m?s.jsx(es,{border:"BorderOrange",variant:"Gray",value:i,onChange:a=>e(O({name:a.target.value})),placeholder:`${f||"Describe yourself..."} `}):i?s.jsx("div",{children:i}):s.jsx("div",{children:"Describe yourself…"})})]})]})})})},Zs="_upload_1l4n0_1",se="_wrapper_1l4n0_13",ee="_photo_1l4n0_21",ae="_button_1l4n0_31",E={upload:Zs,wrapper:se,photo:ee,button:ae},te=({file:e,type:o})=>{const{isPhotoModal:d}=g(l=>l.modal),t=I(),[h]=B(e),[u]=M(),f=async l=>{const i=new FormData;l.preventDefault(),i.append(o==="avatar_url"?"avatar":"background",e),i.append("type",o),await u({body:i}).then(()=>t(S()))};return s.jsx(D,{visible:d,children:s.jsx("div",{className:E.wrapper,onClick:()=>t(S()),children:s.jsxs("form",{onSubmit:f,className:E.upload,onClick:l=>l.stopPropagation(),children:[s.jsx("div",{style:{marginBottom:"30px"},children:s.jsxs("strong",{children:["upload ",o==="avatar_url"?"avatar":"background"," image"]})}),s.jsx("div",{className:E.photo,children:s.jsx("img",{src:h==null?void 0:h.toString(),alt:"oleg"})}),s.jsxs("div",{className:E.button,children:[s.jsx(w,{variant:"Orange",type:"submit",style:{marginRight:"5px"},children:"upload"}),s.jsx(w,{variant:"Black",type:"button",onClick:()=>t(S()),children:"close"})]})]})})})},ne=({id:e,avatar_url:o,back_url:d,description:t,followers:h,following:u,name:f,nickname:l,followed:i})=>{const p=I(),[x,k]=b.useState(!1),{id:_}=g(c=>c.auth.user),[R]=F(),[N]=W(),A=async c=>{c?await N(e):await R(e)},m=d?"https://socialnetwork.adaptable.app/"+d.replace(/\\/g,"/"):Os,[y,G]=b.useState(),a=c=>{p(J()),c.target.files&&G(c.target.files[0])};return s.jsxs("div",{className:n.profile,children:[s.jsx("div",{onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),className:n.background,style:{backgroundImage:`url(${m})`},children:x&&_==e&&s.jsx("div",{className:n.editBg,children:s.jsx(v,{id:"5",type:"file",onChange:c=>a(c),children:s.jsx("div",{className:`${Y.Button} ${Y.Orange}`,children:"change"})})})}),s.jsxs("div",{className:n.wrapper,children:[s.jsx("div",{className:n.profilePhoto,children:s.jsx(T,{url:C(o),height:100,width:100,userId:e})}),s.jsxs("div",{className:n.information,children:[s.jsxs("div",{className:n.credentials,children:[s.jsxs("div",{className:n.nickName,children:["@",l]}),s.jsx("div",{className:n.name,children:s.jsx("h2",{children:f})}),s.jsx("div",{className:n.description,children:t})]}),s.jsxs("div",{className:n.followInformation,children:[e==_?s.jsx(w,{variant:"BorderBlack",icon:s.jsx(q,{}),onClick:()=>{p(z())},children:"Edit profile"}):s.jsx(w,{onClick:async()=>await A(i),variant:i?"BorderBlack":"Orange",children:i?"unsubscribe":"subscribe"}),s.jsxs("div",{className:n.follow,children:[s.jsxs("div",{className:n.followSection,children:[s.jsx("div",{className:n.numbers,children:h}),s.jsx("div",{className:n.infoFollow,children:"Followers"})]}),s.jsxs("div",{className:n.followSection,children:[s.jsx("div",{className:n.numbers,children:u}),s.jsx("div",{className:n.infoFollow,children:"Following"})]})]})]})]}),s.jsx(Is,{pets:[]})]}),s.jsx(te,{type:"back_url",file:y}),s.jsx(Xs,{})]})},oe="_wrapper_5qpmo_1",ie="_content_5qpmo_5",ce={wrapper:oe,content:ie},le=()=>s.jsxs("div",{className:n.profile,children:[s.jsxs("div",{style:{position:"relative"},children:[s.jsx(j,{classes:["background"]}),s.jsx("div",{style:{position:"absolute",top:"100px",borderRadius:"50%",border:"2px solid #fff",display:"flex",alignItems:"center",justifyContent:"center",left:"20px"},children:s.jsx(j,{classes:["avatar","big"]})})]}),s.jsxs("div",{children:[s.jsx(j,{classes:["field"]}),s.jsx(j,{classes:["field"]}),s.jsx(j,{classes:["wide-field"]})]})]}),pe=()=>{const{id:e}=g(p=>p.auth.user),o=K(),{id:d}=U(),{data:t,isFetching:h,isLoading:u,error:f}=Q(d),{data:l}=V(e),i=[{text:"blog",name:"profile",value:"blog",onChange:()=>{}},{text:"liked",name:"profile",value:"liked",onChange:()=>{}}];return f&&f.status==401&&o("/signin"),s.jsxs(s.Fragment,{children:[t&&s.jsx(ne,{avatar_url:t.avatar_url,back_url:t.back_url,description:t.description,email:t.email,followers:t.followers,following:t.following,id:t.id,name:t.name,nickname:t.nickname,followed:t.subscribed}),(h||u)&&s.jsx(le,{}),s.jsxs("div",{className:ce.content,children:[s.jsx(Z,{tabs:i,id:d}),s.jsx("div",{style:{width:"400px"},children:s.jsx(ss,{profiles:l,title:"Recomend for you"})})]})]})};export{pe as default};
